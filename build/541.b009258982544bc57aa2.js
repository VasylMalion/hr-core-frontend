"use strict";(self.webpackChunkproject_course=self.webpackChunkproject_course||[]).push([[541],{4541:(a,e,i)=>{i.r(e),i.d(e,{default:()=>x});var l=i(5893),t=i(7294),n=i(1072),s=i(9250),r=i(6706),o=i(5529),d=i(9761),u=i(9156),c=i(7524),v=i(5439),p=i(7940),f=i(8271);const m=JSON.parse('{"title":"Adding a new vacancy","department":"Department","position":"Position","location":"Location","description":"Description","deadlineDate":"Deadline date","assignedTo":"Assigne to","salaryMin":"Salary (minimum)","salaryMax":"Salary (maximum)","create":"Create","salaryError":"Minimum salary bigger than maximum","successTitle":"Success!","successDescription":"The vacancy was added successfuly","failTitle":"Sorry!","failDescription":"Something went wrong. Try again later"}'),h=JSON.parse('{"title":"Додавання нової вакансії","department":"Відділ","position":"Позиція","location":"Локація","description":"Опис","deadlineDate":"Кінцевий термін","assignedTo":"Призначити для","salaryMin":"Зарплата (мінімальна)","salaryMax":"Зарплата (максимальна)","create":"Створити","salaryError":"Мінімальна зарплата більша за максимальну","successTitle":"Успіх!","successDescription":"Вакансію успішно додано","failTitle":"Вибачте!","failDescription":"Щось пішло не так. Спробуйте знову пізніше"}');var g=function(){return g=Object.assign||function(a){for(var e,i=1,l=arguments.length;i<l;i++)for(var t in e=arguments[i])Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a},g.apply(this,arguments)};const x=function(){var a=(0,n.$G)(o.h.vacancyAdding).t,e=(0,r.useDispatch)(),i=(0,s.s0)(),m=(0,t.useState)({value:"",validation:{isValid:!0}}),h=m[0],x=m[1],y=(0,t.useState)({value:"",validation:{isValid:!0}}),j=y[0],S=y[1],V=(0,t.useState)({value:"",validation:{isValid:!0}}),N=V[0],b=V[1],D=(0,t.useState)({value:"",validation:{isValid:!0}}),w=D[0],T=D[1],C=(0,t.useState)({value:null,validation:{isValid:!0}}),I=C[0],M=C[1],q=(0,t.useState)({value:"",validation:{isValid:!0}}),A=q[0],Y=q[1],E=(0,t.useState)({value:"",validation:{isValid:!0}}),O=E[0],k=E[1],L=(0,t.useState)({value:"",validation:{isValid:!0}}),_=L[0],F=L[1],J=(0,t.useState)(""),P=J[0],z=J[1],G=(0,f.N)({value:P}),K=(0,u.oT)(),Z=K[0],$=K[1],B=$.isLoading,H=$.isSuccess,Q=$.isError,R=(0,p.EI)({username:G}),U="grid grid-cols-row gap-4 md:gap-8",W=O.value&&O.validation.isValid&&_.value&&_.validation.isValid&&+O.value>+_.value,X=h.value&&h.validation.isValid&&j.value&&j.validation.isValid&&N.value&&N.validation.isValid&&w.value&&w.validation.isValid&&I.value&&I.validation.isValid&&A.value&&A.validation.isValid&&O.value&&O.validation.isValid&&_.value&&_.validation.isValid&&!W;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.ZT,{appearance:"title",children:a("title")}),(0,l.jsxs)("div",{className:"grid gap-6 max-w-large",children:[(0,l.jsxs)("div",{className:U,children:[(0,l.jsx)(d.II,{label:a("department"),placeholder:a("department"),className:"w-full",value:h.value,onChange:function(a){var e=(0,v.Y)(a,{required:!0});x({value:a,validation:e})},validation:h.validation}),(0,l.jsx)(d.II,{label:a("position"),placeholder:a("position"),className:"w-full",value:j.value,onChange:function(a){var e=(0,v.Y)(a,{required:!0});S({value:a,validation:e})},validation:j.validation})]}),(0,l.jsx)("div",{className:U,children:(0,l.jsx)(d.II,{label:a("location"),placeholder:a("location"),className:"w-full",value:N.value,onChange:function(a){var e=(0,v.Y)(a,{required:!0});b({value:a,validation:e})},validation:N.validation})}),(0,l.jsxs)("div",{className:U,children:[(0,l.jsx)(d.Mt,{label:a("deadlineDate"),placeholder:a("deadlineDate"),className:"w-full",value:A.value,validation:A.validation,setValue:function(a){var e=(0,v.Y)(a,{required:!0,date:!0});Y({value:a,validation:e})}}),(0,l.jsx)(d.lq,{label:a("assignedTo"),placeholder:a("assignedTo"),value:P,setValue:function(a){z(a),function(a){var e=(0,v.Y)(a,{required:!0});M((function(a){return g(g({},a),{validation:e})}))}(a)},isLoading:R.isFetching,data:R.data,validation:I.validation,onSuccessFind:function(a){return M(g(g({},I),{value:a}))}})]}),(0,l.jsxs)("div",{className:U,children:[(0,l.jsx)(d.II,{type:"number",label:a("salaryMin"),placeholder:a("salaryMin"),className:"w-full",value:O.value,onChange:function(a){if(!(a.length>7)){var e=(0,v.Y)(a,{required:!0,salary:!0});k({value:a,validation:e})}},validation:O.validation}),(0,l.jsx)(d.II,{type:"number",label:a("salaryMax"),placeholder:a("salaryMax"),className:"w-full",value:_.value,onChange:function(a){if(!(a.length>7)){var e=(0,v.Y)(a,{required:!0,salary:!0});F({value:a,validation:e})}},validation:_.validation})]}),W&&(0,l.jsx)("div",{className:"text-red",children:a("salaryError")}),(0,l.jsx)("div",{className:U,children:(0,l.jsx)(d.Kx,{label:a("description"),placeholder:a("description"),className:"w-full",value:w.value,onChange:function(a){var e=(0,v.Y)(a,{required:!0,minLength:20});T({value:a,validation:e})},validation:w.validation})}),(0,l.jsx)(d.zx,{textAlign:"center",className:"flex justify-self-start mt-4",onClick:function(){return Z({department:h.value,position:j.value,location:N.value,description:w.value,assignedTo:I.value,deadlineDate:new Date(A.value),salaryMin:O.value,salaryMax:_.value})},isLoading:B,disabled:!X,children:a("create")})]}),(0,l.jsx)(d.u_,{isOpen:H,onClose:function(){e(u.D5.resetApiState()),i(c.s2.VACANCIES)},title:a("successTitle"),body:a("successDescription")}),(0,l.jsx)(d.u_,{isOpen:Q,onClose:function(){return e(u.D5.resetApiState())},title:a("failTitle"),body:a("failDescription")})]})};(0,o.r)(o.h.vacancyAdding,m,h)},8271:(a,e,i)=>{i.d(e,{N:()=>t});var l=i(7294),t=function(a){var e=a.value,i=(0,l.useState)(""),t=i[0],n=i[1];return(0,l.useEffect)((function(){var a=setTimeout((function(){n(e)}),300);return function(){return clearTimeout(a)}}),[e]),t}}}]);